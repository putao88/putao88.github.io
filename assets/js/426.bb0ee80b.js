(window.webpackJsonp=window.webpackJsonp||[]).push([[426],{789:function(t,s,e){"use strict";e.r(s);var r=e(25),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"set-blocking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set-blocking"}},[t._v("#")]),t._v(" set-blocking")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://travis-ci.org/yargs/set-blocking",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://travis-ci.org/yargs/set-blocking.svg",alt:"Build Status"}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://www.npmjs.com/package/set-blocking",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/npm/v/set-blocking.svg",alt:"NPM version"}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://coveralls.io/r/yargs/set-blocking?branch=master",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://coveralls.io/repos/yargs/set-blocking/badge.svg?branch=",alt:"Coverage Status"}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/conventional-changelog/standard-version",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/badge/release-standard%20version-brightgreen.svg",alt:"Standard Version"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("set blocking "),e("code",[t._v("stdio")]),t._v(" and "),e("code",[t._v("stderr")]),t._v(" ensuring that terminal output does not truncate.")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" setBlocking "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'set-blocking'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBlocking")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("someLargeStringToOutput"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h2",{attrs:{id:"historical-context-word-of-warning"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#historical-context-word-of-warning"}},[t._v("#")]),t._v(" Historical Context/Word of Warning")]),t._v(" "),e("p",[t._v("This was created as a shim to address the bug discussed in "),e("a",{attrs:{href:"https://github.com/nodejs/node/issues/6456",target:"_blank",rel:"noopener noreferrer"}},[t._v("node #6456"),e("OutboundLink")],1),t._v(". This bug crops up on\nnewer versions of Node.js ("),e("code",[t._v("0.12+")]),t._v("), truncating terminal output.")]),t._v(" "),e("p",[t._v("You should be mindful of the side-effects caused by using "),e("code",[t._v("set-blocking")]),t._v(":")]),t._v(" "),e("ul",[e("li",[t._v("if your module sets blocking to "),e("code",[t._v("true")]),t._v(", it will effect other modules\nconsuming your library. In "),e("a",{attrs:{href:"https://github.com/yargs/yargs/blob/master/yargs.js#L653",target:"_blank",rel:"noopener noreferrer"}},[t._v("yargs"),e("OutboundLink")],1),t._v(" we only call\n"),e("code",[t._v("setBlocking(true)")]),t._v(" once we already know we are about to call "),e("code",[t._v("process.exit(code)")]),t._v(".")]),t._v(" "),e("li",[t._v("this patch will not apply to subprocesses spawned with "),e("code",[t._v("isTTY = true")]),t._v(", this is\nthe "),e("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options",target:"_blank",rel:"noopener noreferrer"}},[t._v("default "),e("code",[t._v("spawn()")]),t._v(" behavior"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" License")]),t._v(" "),e("p",[t._v("ISC")])])}),[],!1,null,null,null);s.default=n.exports}}]);