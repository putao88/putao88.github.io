(window.webpackJsonp=window.webpackJsonp||[]).push([[353],{716:function(e,t,a){"use strict";a.r(t);var s=a(25),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",{attrs:{align:"center"}},[a("a",{attrs:{href:"http://gulpjs.com"}},[a("img",{attrs:{height:"257",width:"114",src:"https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png"}})])]),e._v(" "),a("h1",{attrs:{id:"now-and-later"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#now-and-later"}},[e._v("#")]),e._v(" now-and-later")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/now-and-later",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://img.shields.io/npm/v/now-and-later.svg",alt:"NPM version"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://www.npmjs.com/package/now-and-later",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://img.shields.io/npm/dm/now-and-later.svg",alt:"Downloads"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://travis-ci.org/gulpjs/now-and-later",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://img.shields.io/travis/gulpjs/now-and-later.svg?label=travis-ci",alt:"Build Status"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://ci.appveyor.com/project/gulpjs/now-and-later",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/appveyor/ci/gulpjs/now-and-later.svg?label=appveyor",alt:"AppVeyor Build Status"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://coveralls.io/r/gulpjs/now-and-later",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"http://img.shields.io/coveralls/gulpjs/now-and-later/master.svg",alt:"Coveralls Status"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://gitter.im/gulpjs/gulp",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://badges.gitter.im/gulpjs/gulp.svg",alt:"Gitter chat"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Map over an array or object of values in parallel or series, passing each through the async iterator, with optional lifecycle hooks.")]),e._v(" "),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" nal "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'now-and-later'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("iterator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called with each value in sequence")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// also passes the key")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called at the beginning of every iteration")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// return a storage object to be passed to each lifecycle method")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" key"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("before")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called before the iterator function of every iteration")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// receives the storage returned from `create`")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("after")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called after a success occurs in the iterator function of any iteration")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// receives the `result` of the iterator and the storage returned from `create`")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called after an error occurs in the iterator function of any iteration")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// receives the `error` of the iterator and the storage returned from `create`")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("done")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" results")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// called after all iterations complete or an error occurs in an iterator")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// receives an `error` if one occurred and all results (or partial results upon error) of the iterators")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/*\n  Calling mapSeries with an object can't guarantee order\n  It uses Object.keys to get an order\n  It is better to use an array if order must be guaranteed\n */")]),e._v("\nnal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mapSeries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" iterator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  create"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" create"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  before"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" before"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  after"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" after"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  error"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" error\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nnal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  iter1"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  iter2"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" iterator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  create"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" create"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  before"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" before"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  after"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" after"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  error"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" error\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br"),a("span",{staticClass:"line-number"},[e._v("31")]),a("br"),a("span",{staticClass:"line-number"},[e._v("32")]),a("br"),a("span",{staticClass:"line-number"},[e._v("33")]),a("br"),a("span",{staticClass:"line-number"},[e._v("34")]),a("br"),a("span",{staticClass:"line-number"},[e._v("35")]),a("br"),a("span",{staticClass:"line-number"},[e._v("36")]),a("br"),a("span",{staticClass:"line-number"},[e._v("37")]),a("br"),a("span",{staticClass:"line-number"},[e._v("38")]),a("br"),a("span",{staticClass:"line-number"},[e._v("39")]),a("br"),a("span",{staticClass:"line-number"},[e._v("40")]),a("br"),a("span",{staticClass:"line-number"},[e._v("41")]),a("br"),a("span",{staticClass:"line-number"},[e._v("42")]),a("br"),a("span",{staticClass:"line-number"},[e._v("43")]),a("br"),a("span",{staticClass:"line-number"},[e._v("44")]),a("br"),a("span",{staticClass:"line-number"},[e._v("45")]),a("br"),a("span",{staticClass:"line-number"},[e._v("46")]),a("br"),a("span",{staticClass:"line-number"},[e._v("47")]),a("br"),a("span",{staticClass:"line-number"},[e._v("48")]),a("br"),a("span",{staticClass:"line-number"},[e._v("49")]),a("br"),a("span",{staticClass:"line-number"},[e._v("50")]),a("br"),a("span",{staticClass:"line-number"},[e._v("51")]),a("br"),a("span",{staticClass:"line-number"},[e._v("52")]),a("br"),a("span",{staticClass:"line-number"},[e._v("53")]),a("br"),a("span",{staticClass:"line-number"},[e._v("54")]),a("br"),a("span",{staticClass:"line-number"},[e._v("55")]),a("br")])]),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),a("h3",{attrs:{id:"map-values-iterator-extensions-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#map-values-iterator-extensions-callback"}},[e._v("#")]),e._v(" "),a("code",[e._v("map(values, iterator[, extensions][, callback])")])]),e._v(" "),a("p",[e._v("Takes an object or array of "),a("code",[e._v("values")]),e._v(" and an "),a("code",[e._v("iterator")]),e._v(" function to execute with each value.\nOptionally, takes an "),a("code",[e._v("extensions")]),e._v(" object and a "),a("code",[e._v("callback")]),e._v(" function that is called upon completion of the iterations.")]),e._v(" "),a("p",[e._v("All iterations run in parallel.")]),e._v(" "),a("h4",{attrs:{id:"values"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#values"}},[e._v("#")]),e._v(" "),a("code",[e._v("values")])]),e._v(" "),a("p",[e._v("An array or object of values to iterate over.")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("values")]),e._v(" is an array, iterations are started in order by index. If "),a("code",[e._v("values")]),e._v(" is an object, iterations are started in order by the order returned by "),a("code",[e._v("Object.keys")]),e._v(" (order is not guaranteed).")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("values")]),e._v(" is an array, the results of each iteration will be mapped to an array. If "),a("code",[e._v("values")]),e._v(" is an object, the results of each iteration will be mapped to an object with corresponding keys.")]),e._v(" "),a("h4",{attrs:{id:"iterator-value-key-done"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iterator-value-key-done"}},[e._v("#")]),e._v(" "),a("code",[e._v("iterator(value, key, done)")])]),e._v(" "),a("p",[e._v("An async function called per iteration. All iterations are run in parallel.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("iterator")]),e._v(" function is called once with each "),a("code",[e._v("value")]),e._v(", "),a("code",[e._v("key")]),e._v(" and a function ("),a("code",[e._v("done(error, result)")]),e._v(") to call when the async work is complete.")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("done")]),e._v(" is passed an error as the first argument, the iteration will fail and the sequence will be ended; however, any iterations in progress will still complete. If "),a("code",[e._v("done")]),e._v(" is passed a "),a("code",[e._v("result")]),e._v(" value as the second argument, it will be added to the final results array or object.")]),e._v(" "),a("h4",{attrs:{id:"extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("extensions")]),e._v(" object is used for specifying functions that give insight into the lifecycle of each iteration. The possible extension points are "),a("code",[e._v("create")]),e._v(", "),a("code",[e._v("before")]),e._v(", "),a("code",[e._v("after")]),e._v(" and "),a("code",[e._v("error")]),e._v(". If an extension point is not specified, it defaults to a no-op function.")]),e._v(" "),a("h5",{attrs:{id:"extensions-create-value-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-create-value-key"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.create(value, key)")])]),e._v(" "),a("p",[e._v("Called at the very beginning of each iteration with the "),a("code",[e._v("value")]),e._v(" being iterated and the "),a("code",[e._v("key")]),e._v(" from the array or object. If "),a("code",[e._v("create")]),e._v(" returns a value ("),a("code",[e._v("storage")]),e._v("), it is passed to the "),a("code",[e._v("before")]),e._v(", "),a("code",[e._v("after")]),e._v(" and "),a("code",[e._v("error")]),e._v(" extension points.")]),e._v(" "),a("p",[e._v("If a value is not returned, an empty object is used as "),a("code",[e._v("storage")]),e._v(" for each other extension point.")]),e._v(" "),a("p",[e._v("This is useful for tracking information across an iteration.")]),e._v(" "),a("h5",{attrs:{id:"extensions-before-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-before-storage"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.before(storage)")])]),e._v(" "),a("p",[e._v("Called immediately before each iteration with the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h5",{attrs:{id:"extensions-after-result-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-after-result-storage"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.after(result, storage)")])]),e._v(" "),a("p",[e._v("Called immediately after each iteration with the "),a("code",[e._v("result")]),e._v(" of the iteration and the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h5",{attrs:{id:"extensions-error-error-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-error-error-storage"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.error(error, storage)")])]),e._v(" "),a("p",[e._v("Called immediately after a failed iteration with the "),a("code",[e._v("error")]),e._v(" of the iteration and the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h4",{attrs:{id:"callback-error-results"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#callback-error-results"}},[e._v("#")]),e._v(" "),a("code",[e._v("callback(error, results)")])]),e._v(" "),a("p",[e._v("A function that is called after all iterations have completed or one iteration has errored.")]),e._v(" "),a("p",[e._v("If all iterations completed successfully, the "),a("code",[e._v("error")]),e._v(" argument will be empty and the "),a("code",[e._v("results")]),e._v(" will be a mapping of the "),a("code",[e._v("iterator")]),e._v(" results.")]),e._v(" "),a("p",[e._v("If an iteration errored, the "),a("code",[e._v("error")]),e._v(" argument will be passed from that iteration and the "),a("code",[e._v("results")]),e._v(" will be whatever partial results had completed successfully before the error occurred.")]),e._v(" "),a("h3",{attrs:{id:"mapseries-values-iterator-extensions-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mapseries-values-iterator-extensions-callback"}},[e._v("#")]),e._v(" "),a("code",[e._v("mapSeries(values, iterator[, extensions][, callback])")])]),e._v(" "),a("p",[e._v("Takes an object or array of "),a("code",[e._v("values")]),e._v(" and an "),a("code",[e._v("iterator")]),e._v(" function to execute with each value.\nOptionally, takes an "),a("code",[e._v("extensions")]),e._v(" object and a "),a("code",[e._v("callback")]),e._v(" function that is called upon completion of the iterations.")]),e._v(" "),a("p",[e._v("All iterations run in serial.")]),e._v(" "),a("h4",{attrs:{id:"values-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#values-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("values")])]),e._v(" "),a("p",[e._v("An array or object of values to iterate over.")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("values")]),e._v(" is an array, iterations are started in order by index. If "),a("code",[e._v("values")]),e._v(" is an object, iterations are started in order by the order returned by "),a("code",[e._v("Object.keys")]),e._v(" (order is not guaranteed).")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("values")]),e._v(" is an array, the results of each iteration will be mapped to an array. If "),a("code",[e._v("values")]),e._v(" is an object, the results of each iteration will be mapped to an object with corresponding keys.")]),e._v(" "),a("h4",{attrs:{id:"iterator-value-key-done-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iterator-value-key-done-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("iterator(value, key, done)")])]),e._v(" "),a("p",[e._v("An async function called per iteration. All iterations are run in serial.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("iterator")]),e._v(" function is called once with each "),a("code",[e._v("value")]),e._v(", "),a("code",[e._v("key")]),e._v(" and a function ("),a("code",[e._v("done(error, result)")]),e._v(") to call when the async work is complete.")]),e._v(" "),a("p",[e._v("If "),a("code",[e._v("done")]),e._v(" is passed an error as the first argument, the iteration will fail and the sequence will be ended without executing any more iterations. If "),a("code",[e._v("done")]),e._v(" is passed a "),a("code",[e._v("result")]),e._v(" value as the second argument, it will be added to the final results array or object.")]),e._v(" "),a("h4",{attrs:{id:"extensions-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("extensions")]),e._v(" object is used for specifying functions that give insight into the lifecycle of each iteration. The possible extension points are "),a("code",[e._v("create")]),e._v(", "),a("code",[e._v("before")]),e._v(", "),a("code",[e._v("after")]),e._v(" and "),a("code",[e._v("error")]),e._v(". If an extension point is not specified, it defaults to a no-op function.")]),e._v(" "),a("h5",{attrs:{id:"extensions-create-value-key-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-create-value-key-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.create(value, key)")])]),e._v(" "),a("p",[e._v("Called at the very beginning of each iteration with the "),a("code",[e._v("value")]),e._v(" being iterated and the "),a("code",[e._v("key")]),e._v(" from the array or object. If "),a("code",[e._v("create")]),e._v(" returns a value ("),a("code",[e._v("storage")]),e._v("), it is passed to the "),a("code",[e._v("before")]),e._v(", "),a("code",[e._v("after")]),e._v(" and "),a("code",[e._v("error")]),e._v(" extension points.")]),e._v(" "),a("p",[e._v("If a value is not returned, an empty object is used as "),a("code",[e._v("storage")]),e._v(" for each other extension point.")]),e._v(" "),a("p",[e._v("This is useful for tracking information across an iteration.")]),e._v(" "),a("h5",{attrs:{id:"extensions-before-storage-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-before-storage-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.before(storage)")])]),e._v(" "),a("p",[e._v("Called immediately before each iteration with the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h5",{attrs:{id:"extensions-after-result-storage-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-after-result-storage-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.after(result, storage)")])]),e._v(" "),a("p",[e._v("Called immediately after each iteration with the "),a("code",[e._v("result")]),e._v(" of the iteration and the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h5",{attrs:{id:"extensions-error-error-storage-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extensions-error-error-storage-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("extensions.error(error, storage)")])]),e._v(" "),a("p",[e._v("Called immediately after a failed iteration with the "),a("code",[e._v("error")]),e._v(" of the iteration and the "),a("code",[e._v("storage")]),e._v(" value returned from the "),a("code",[e._v("create")]),e._v(" extension point.")]),e._v(" "),a("h4",{attrs:{id:"callback-error-results-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#callback-error-results-2"}},[e._v("#")]),e._v(" "),a("code",[e._v("callback(error, results)")])]),e._v(" "),a("p",[e._v("A function that is called after all iterations have completed or one iteration has errored.")]),e._v(" "),a("p",[e._v("If all iterations completed successfully, the "),a("code",[e._v("error")]),e._v(" argument will be empty and the "),a("code",[e._v("results")]),e._v(" will be a mapping of the "),a("code",[e._v("iterator")]),e._v(" results.")]),e._v(" "),a("p",[e._v("If an iteration errored, the "),a("code",[e._v("error")]),e._v(" argument will be passed from that iteration and the "),a("code",[e._v("results")]),e._v(" will be whatever partial results had completed successfully before the error occurred.")]),e._v(" "),a("h2",{attrs:{id:"license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[e._v("#")]),e._v(" License")]),e._v(" "),a("p",[e._v("MIT")])])}),[],!1,null,null,null);t.default=r.exports}}]);