(window.webpackJsonp=window.webpackJsonp||[]).push([[332],{695:function(e,a,n){"use strict";n.r(a);var t=n(25),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"new"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new"}},[e._v("#")]),e._v(" New")]),e._v(" "),n("p",[e._v("NAN provides a "),n("code",[e._v("Nan::New()")]),e._v(" helper for the creation of new JavaScript objects in a way that's compatible across the supported versions of V8.")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#api_nan_new"}},[n("b",[n("code",[e._v("Nan::New()")])])])]),e._v(" "),n("li",[n("a",{attrs:{href:"#api_nan_undefined"}},[n("b",[n("code",[e._v("Nan::Undefined()")])])])]),e._v(" "),n("li",[n("a",{attrs:{href:"#api_nan_null"}},[n("b",[n("code",[e._v("Nan::Null()")])])])]),e._v(" "),n("li",[n("a",{attrs:{href:"#api_nan_true"}},[n("b",[n("code",[e._v("Nan::True()")])])])]),e._v(" "),n("li",[n("a",{attrs:{href:"#api_nan_false"}},[n("b",[n("code",[e._v("Nan::False()")])])])]),e._v(" "),n("li",[n("a",{attrs:{href:"#api_nan_empty_string"}},[n("b",[n("code",[e._v("Nan::EmptyString()")])])])])]),e._v(" "),n("p",[n("a",{attrs:{name:"api_nan_new"}})]),e._v(" "),n("h3",{attrs:{id:"nan-new"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-new"}},[e._v("#")]),e._v(" Nan::New()")]),e._v(" "),n("p",[n("code",[e._v("Nan::New()")]),e._v(" should be used to instantiate new JavaScript objects.")]),e._v(" "),n("p",[e._v("Refer to the specific V8 type in the "),n("a",{attrs:{href:"https://v8docs.nodesource.com/node-8.16/d1/d83/classv8_1_1_data.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("V8 documentation"),n("OutboundLink")],1),e._v(" for information on the types of arguments required for instantiation.")]),e._v(" "),n("p",[e._v("Signatures:")]),e._v(" "),n("p",[e._v("Return types are mostly omitted from the signatures for simplicity. In most cases the type will be contained within a "),n("code",[e._v("v8::Local<T>")]),e._v(". The following types will be contained within a "),n("code",[e._v("Nan::MaybeLocal<T>")]),e._v(": "),n("code",[e._v("v8::String")]),e._v(", "),n("code",[e._v("v8::Date")]),e._v(", "),n("code",[e._v("v8::RegExp")]),e._v(", "),n("code",[e._v("v8::Script")]),e._v(", "),n("code",[e._v("v8::UnboundScript")]),e._v(".")]),e._v(" "),n("p",[e._v("Empty objects:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Nan::New<T>();\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("Generic single and multiple-argument:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Nan::New<T>(A0 arg0);\nNan::New<T>(A0 arg0, A1 arg1);\nNan::New<T>(A0 arg0, A1 arg1, A2 arg2);\nNan::New<T>(A0 arg0, A1 arg1, A2 arg2, A3 arg3);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("For creating "),n("code",[e._v("v8::FunctionTemplate")]),e._v(" and "),n("code",[e._v("v8::Function")]),e._v(" objects:")]),e._v(" "),n("p",[n("em",[e._v("The definition of "),n("code",[e._v("Nan::FunctionCallback")]),e._v(" can be found in the "),n("RouterLink",{attrs:{to:"/Study/工程化/gulp 学习代码/gulp-project/node_modules/nan/doc/methods.html#api_nan_method"}},[e._v("Method declaration")]),e._v(" documentation.")],1)]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Nan::New<T>(Nan::FunctionCallback callback,\n            v8::Local<v8::Value> data = v8::Local<v8::Value>());\nNan::New<T>(Nan::FunctionCallback callback,\n            v8::Local<v8::Value> data = v8::Local<v8::Value>(),\n            A2 a2 = A2());\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[e._v("Native number types:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::Boolean> Nan::New<T>(bool value);\nv8::Local<v8::Int32> Nan::New<T>(int32_t value);\nv8::Local<v8::Uint32> Nan::New<T>(uint32_t value);\nv8::Local<v8::Number> Nan::New<T>(double value);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("String types:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Nan::MaybeLocal<v8::String> Nan::New<T>(std::string const& value);\nNan::MaybeLocal<v8::String> Nan::New<T>(const char * value, int length);\nNan::MaybeLocal<v8::String> Nan::New<T>(const char * value);\nNan::MaybeLocal<v8::String> Nan::New<T>(const uint16_t * value);\nNan::MaybeLocal<v8::String> Nan::New<T>(const uint16_t * value, int length);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[e._v("Specialized types:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::String> Nan::New<T>(v8::String::ExternalStringResource * value);\nv8::Local<v8::String> Nan::New<T>(Nan::ExternalOneByteStringResource * value);\nv8::Local<v8::RegExp> Nan::New<T>(v8::Local<v8::String> pattern, v8::RegExp::Flags flags);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("p",[e._v("Note that "),n("code",[e._v("Nan::ExternalOneByteStringResource")]),e._v(" maps to "),n("a",{attrs:{href:"https://v8docs.nodesource.com/node-8.16/d9/db3/classv8_1_1_string_1_1_external_one_byte_string_resource.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("v8::String::ExternalOneByteStringResource")]),n("OutboundLink")],1),e._v(", and "),n("code",[e._v("v8::String::ExternalAsciiStringResource")]),e._v(" in older versions of V8.")]),e._v(" "),n("p",[n("a",{attrs:{name:"api_nan_undefined"}})]),e._v(" "),n("h3",{attrs:{id:"nan-undefined"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-undefined"}},[e._v("#")]),e._v(" Nan::Undefined()")]),e._v(" "),n("p",[e._v("A helper method to reference the "),n("code",[e._v("v8::Undefined")]),e._v(" object in a way that is compatible across all supported versions of V8.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::Primitive> Nan::Undefined()\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("a",{attrs:{name:"api_nan_null"}})]),e._v(" "),n("h3",{attrs:{id:"nan-null"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-null"}},[e._v("#")]),e._v(" Nan::Null()")]),e._v(" "),n("p",[e._v("A helper method to reference the "),n("code",[e._v("v8::Null")]),e._v(" object in a way that is compatible across all supported versions of V8.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::Primitive> Nan::Null()\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("a",{attrs:{name:"api_nan_true"}})]),e._v(" "),n("h3",{attrs:{id:"nan-true"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-true"}},[e._v("#")]),e._v(" Nan::True()")]),e._v(" "),n("p",[e._v("A helper method to reference the "),n("code",[e._v("v8::Boolean")]),e._v(" object representing the "),n("code",[e._v("true")]),e._v(" value in a way that is compatible across all supported versions of V8.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::Boolean> Nan::True()\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("a",{attrs:{name:"api_nan_false"}})]),e._v(" "),n("h3",{attrs:{id:"nan-false"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-false"}},[e._v("#")]),e._v(" Nan::False()")]),e._v(" "),n("p",[e._v("A helper method to reference the "),n("code",[e._v("v8::Boolean")]),e._v(" object representing the "),n("code",[e._v("false")]),e._v(" value in a way that is compatible across all supported versions of V8.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::Boolean> Nan::False()\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("a",{attrs:{name:"api_nan_empty_string"}})]),e._v(" "),n("h3",{attrs:{id:"nan-emptystring"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-emptystring"}},[e._v("#")]),e._v(" Nan::EmptyString()")]),e._v(" "),n("p",[e._v("Call "),n("a",{attrs:{href:"https://v8docs.nodesource.com/node-8.16/d2/db3/classv8_1_1_string.html#a7c1bc8886115d7ee46f1d571dd6ebc6d",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("v8::String::Empty")]),n("OutboundLink")],1),e._v(" to reference the empty string in a way that is compatible across all supported versions of V8.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("v8::Local<v8::String> Nan::EmptyString()\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("a",{attrs:{name:"api_nan_new_one_byte_string"}})]),e._v(" "),n("h3",{attrs:{id:"nan-newonebytestring"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nan-newonebytestring"}},[e._v("#")]),e._v(" Nan::NewOneByteString()")]),e._v(" "),n("p",[e._v("An implementation of "),n("a",{attrs:{href:"https://v8docs.nodesource.com/node-8.16/d2/db3/classv8_1_1_string.html#a5264d50b96d2c896ce525a734dc10f09",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("v8::String::NewFromOneByte()")]),n("OutboundLink")],1),e._v(" provided for consistent availability and API across supported versions of V8. Allocates a new string from Latin-1 data.")]),e._v(" "),n("p",[e._v("Signature:")]),e._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Nan::MaybeLocal<v8::String> Nan::NewOneByteString(const uint8_t * value,\n                                                  int length = -1)\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])])])}),[],!1,null,null,null);a.default=s.exports}}]);